<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>

<style>
.boxed-section{ /*creat a box*/
    border: 2px solid #000; 
    padding: 10px; 
    margin: 10px 0; 
}   
</style>

<div class="boxed-section">
    <table class="table">
            <tr>
                <th>質問1～5</th>
            </tr>
            <tr>
                <td>あなたの意思決定: <b>{{ player.risk_List }}</b></td>
            </tr>
    </table>
    <div id="highchart"></div>
</div>


<!-- <table class="table">
    <td>実験２：あなたの意思決定：{{ player.individual_choice }}<div id="innerid1"></div><div id="innerid2"></div></td>
</table>
<br><br> -->

<div id="innerid1" style="display: none;"></div>
<div id="innerid2" style="display: none;"></div>

<div class="boxed-section">
    <table class="table">
            <tr>
                <th>質問6</th>
            </tr>
            <tr>
                <td>あなたの意思決定：<b>{{ player.u_individual_choice }}</b></td>
            </tr>
    </table>
    <div id="highchart3"></div>
</div>

<div class="boxed-section">
    <table class="table">
            <tr>
                <th>質問7</th>
            </tr>
            <tr>
            <td>あなたの意思決定：<b>{{ player.s_individual_choice }}</b></td>
            </tr>
    </table>
    <div id="highchart4"></div>
</div>

<div class="boxed-section">
    <table class="table">
            <tr>
                <th>質問8</th>
            </tr>
            <td>あなたの意思決定：<b>{{ player.e_individual_choice }}</b></td>
    </table>
    <div id="highchart5"></div>
</div>

<script>
    function inputValue(){
            innerid1.innerHTML= "平均" + js_vars.average_decision
            innerid2.innerHTML= js_vars.num_participants_c + "名が実験に参加しました"
    }
    function drawChart() {
        disp_title = js_vars.num_participants + "名が実験に参加しました"
        //alert(disp_title)
        //if (series.length!=0){
            Highcharts.chart('highchart', {
                chart: {
                type: 'bar'
                },
                title: {
                    text: disp_title
                },
                subtitle: {
                    text: ''
                },
                xAxis: {
                    //categories: ['Aが0つ','Aが1つ', 'Aが2つ', 'Aが3つ', 'Aが4つ', 'Aが5つ'],
                    categories: ['Aが5つ', 'Aが4つ', 'Aが3つ', 'Aが2つ', 'Aが1つ', 'Aが0つ'],
                    title: {
                        text: null
                    }
                },
                yAxis: {
                    min: 0,
                    max:100,
                    title: {
                        text: '',
                        align: 'high'
                    },
                    labels: {
                        overflow: 'justify'
                    }
                },
                tooltip: {
                    valueSuffix: ''
                },
                plotOptions: {
                    bar: {
                        dataLabels: {
                            enabled: true
                        }
                    }
                },
                legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'top',
                    x: -40,
                    y: 80,
                    floating: true,
                    borderWidth: 1,
                    backgroundColor:
                        Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF',
                    shadow: true
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: '%',
                    //data: [js_vars.num_A0, js_vars.num_A1, js_vars.num_A2, js_vars.num_A3, js_vars.num_A4, js_vars.num_A5]
                    data: [js_vars.num_A5, js_vars.num_A4, js_vars.num_A3, js_vars.num_A2, js_vars.num_A1, js_vars.num_A0]
                }]
            });
     }

    function drawChart_3() {
        disp_title_3 = js_vars.num_participants_u + "名が実験に参加しました"
        //alert(js_vars.u_numA)
        //if (series.length!=0){
            Highcharts.chart('highchart3', {
                chart: {
                type: 'bar'
                },
                title: {
                    text: disp_title_3
                },
                subtitle: {
                    text: ''
                },
                xAxis: {
                    categories: ['Aを選んだ人','Bを選んだ人'],
                    title: {
                        text: null
                    }
                },
                yAxis: {
                    min: 0,
                    max: 100,
                    title: {
                        text: '',
                        align: 'high'
                    },
                    labels: {
                        overflow: 'justify'
                    }
                },
                tooltip: {
                    valueSuffix: ''
                },
                plotOptions: {
                    bar: {
                        dataLabels: {
                            enabled: true
                        }
                    }
                },
                legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'top',
                    x: -40,
                    y: 80,
                    floating: true,
                    borderWidth: 1,
                    backgroundColor:
                        Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF',
                    shadow: true
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: '%',
                    data: [
                      {y: js_vars.u_numA, color: 'orange'},
                      {y: js_vars.u_numB, color: 'green'},
                    ]
                }]
            });
        }


    function drawChart_4() {
        disp_title_4 = js_vars.num_participants_s + "名が実験に参加しました"
        //alert(disp_title)
        //if (series.length!=0){
            Highcharts.chart('highchart4', {
                chart: {
                type: 'bar'
                },
                title: {
                    text: disp_title_4
                },
                subtitle: {
                    text: ''
                },
                xAxis: {
                    categories: ['Aを選んだ人','Bを選んだ人'],
                    title: {
                        text: null
                    }
                },
                yAxis: {
                    min: 0,
                    max: 100,
                    title: {
                        text: '',
                        align: 'high'
                    },
                    labels: {
                        overflow: 'justify'
                    }
                },
                tooltip: {
                    valueSuffix: ''
                },
                plotOptions: {
                    bar: {
                        dataLabels: {
                            enabled: true
                        }
                    }
                },
                legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'top',
                    x: -40,
                    y: 80,
                    floating: true,
                    borderWidth: 1,
                    backgroundColor:
                        Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF',
                    shadow: true
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: '%',
                    data: [
                      {y: js_vars.s_numA, color: 'orange'},
                      {y: js_vars.s_numB, color: 'green'},
                    ]
                }]
            });
        }



    function drawChart_5() {
        disp_title_5 = js_vars.num_participants_e + "名が実験に参加しました"
        //alert(disp_title)
        //if (series.length!=0){
            Highcharts.chart('highchart5', {
                chart: {
                type: 'bar'
                },
                title: {
                    text: disp_title_5
                },
                subtitle: {
                    text: ''
                },
                xAxis: {
                    categories: ['Aを選んだ人','Bを選んだ人'],
                    title: {
                        text: null
                    }
                },
                yAxis: {
                    min: 0,
                    max: 100,
                    title: {
                        text: '',
                        align: 'high'
                    },
                    labels: {
                        overflow: 'justify'
                    }
                },
                tooltip: {
                    valueSuffix: ''
                },
                plotOptions: {
                    bar: {
                        dataLabels: {
                            enabled: true
                        }
                    }
                },
                legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'top',
                    x: -40,
                    y: 80,
                    floating: true,
                    borderWidth: 1,
                    backgroundColor:
                        Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF',
                    shadow: true
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: '%',
                    data: [
                      {y: js_vars.e_numA, color: 'orange'},
                      {y: js_vars.e_numB, color: 'green'},
                    ]
                }]
            });
        }
</script>
