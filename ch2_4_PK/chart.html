<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>

<style>
.boxed-section{ /*creat a box*/
    border: 2px solid #000; 
    padding: 10px; 
    margin: 10px 0; 
}   
</style>

<div class="boxed-section">
    <div id="highchart"></div></div>
<div class="boxed-section">
<div id="highchart2"></div></div>

<script>
    function drawChart() {
        disp_title = js_vars.num_participants + "名が実験に参加しました。"
        //alert(disp_title)
        //if (series.length!=0){
            Highcharts.chart('highchart', {
                chart: {
                type: 'bar'
                },
                title: {
                    text: disp_title
                },
                subtitle: {
                    text: ''
                },
                xAxis: {
                    //categories: ['Aが1つ', 'Aが2つ', 'Aが3つ', 'Aが4つ', 'Aが5つ'],
                    categories: ['右を選んだ人','左を選んだ人'],
                    title: {
                        text: null
                    }
                },
                yAxis: {
                    min: 0,
                    max: 100,
                    title: {
                        text: '',
                        align: 'high'
                    },
                    labels: {
                        overflow: 'justify'
                    }
                },
                tooltip: {
                    valueSuffix: '%'
                },
                plotOptions: {
                    bar: {
                        dataLabels: {
                            enabled: true
                        }
                    }
                },
                legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'top',
                    x: -40,
                    y: 80,
                    floating: true,
                    borderWidth: 1,
                    backgroundColor:
                        Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF',
                    shadow: true
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: '%',
                    //data: [js_vars.num_A, js_vars.num_B]
                    data: [
                      {y: js_vars.num_A, color: 'orange'},
                      {y: js_vars.num_B, color: 'green'},
                    ]
                }]
            });
        }
    //}
    function drawChart_pair() {
        // disp_title = "（コンピュータを含む）" + js_vars.num_pairs + "名が実験に参加しました。"
        disp_title = "選択組合の割合"
        //alert(disp_title)
        //if (series.length!=0){
            Highcharts.chart('highchart2', {
                chart: {
                type: 'bar'
                },
                title: {
                    text: disp_title
                },
                subtitle: {
                    text: ''
                },
                xAxis: {
                    categories: ['右右','右左','左右','左左'],
                    title: {
                        text: null
                    }
                },
                yAxis: {
                    min: 0,
                    max: 100,
                    title: {
                        text: '',
                        align: 'high'
                    },
                    labels: {
                        overflow: 'justify'
                    }
                },
                tooltip: {
                    valueSuffix: '%'
                },
                plotOptions: {
                    bar: {
                        dataLabels: {
                            enabled: true
                        }
                    }
                },
                legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'top',
                    x: -40,
                    y: 80,
                    floating: true,
                    borderWidth: 1,
                    backgroundColor:
                        Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF',
                    shadow: true
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: '%',
                    data: [
                      {y: js_vars.num_AA, color: 'orange'},
                      {y: js_vars.num_AB, color: 'green'},
                      {y: js_vars.num_BA, color: 'orange'},
                      {y: js_vars.num_BB, color: 'green'},
                    ]
                }]
            });
        }
    //}
</script>
